//created on: Feb 25, 2013
package com.hcentive.eligibility.determination;

import com.hcentive.rulesengine.domain.EEDeterminationRuleFacts;
import com.hcentive.eligibility.domain.ext.program_status;
import com.hcentive.eligibility.domain.ext.AidCategory;
import com.hcentive.eligibility.domain.ext.CoverageCode;
import com.hcentive.rulesengine.domain.EEDeterminationRuleFacts.noSSNReasonCodeType;
import com.hcentive.eligibility.ext.CitizenshipStatusEnum;
import com.hcentive.eligibility.ext.UserMECResponseEnum;
import com.hcentive.eligibility.EligibilityVerificationTypeEnum;
import com.hcentive.eligibility.ext.ClockNameEnum;
import com.hcentive.utils.ext.HXConstants;
import com.hcentive.utils.ext.HXUtility;
import com.hcentive.eligibility.domain.ext.ProgramReasonCode;
import com.hcentive.eligibility.domain.ext.ProgramCode;
import com.hcentive.utils.ext.HXMECTypeEnum;


global org.slf4j.Logger logger;

//Main Rule
rule "MAIN_CHIP_MEC"
salience 100000
	when
		$eDeterminationfacts : EEDeterminationRuleFacts();
	then
		logger.debug("Rule : MAIN_CHIP_MEC : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "MAIN_CHIP_MEC");
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_SEC2_03_ACK);
		drools.setFocus("CHIP_MEC_STALE_1_AG");
		logger.debug("Rule : MAIN_CHIP_MEC : End");
end

//CR1606
rule "CHIP_MEC_VERIFY_STALE_ELG_SEC_01"
salience 95050
activation-group "CHIP_MEC_STALE_1_AT"
agenda-group "CHIP_MEC_STALE_1_AG"
	when
		$eDeterminationfacts : EEDeterminationRuleFacts(isStaleEligibility);
		//eval(true);		
	then
		logger.debug("Rule : CHIP_MEC_VERIFY_STALE_ELG_SEC_01 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "CHIP_MEC_VERIFY_STALE_ELG_SEC_01");
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : CHIP_MEC_VERIFY_STALE_ELG_SEC_01 : End");
end

rule "CHIP_MEC_VERIFY_STALE_ELG_SEC_03"
salience 95060
activation-group "CHIP_MEC_STALE_1_AT"
agenda-group "CHIP_MEC_STALE_1_AG"
	when
		$eDeterminationfacts : EEDeterminationRuleFacts(!isStaleEligibility);
		//eval(true);		
	then
		logger.debug("Rule : CHIP_MEC_VERIFY_STALE_ELG_SEC_03 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "CHIP_MEC_VERIFY_STALE_ELG_SEC_03");
		drools.setFocus("Chip_MEC_0_AG");
		logger.debug("Rule : CHIP_MEC_VERIFY_STALE_ELG_SEC_03 : End");
end

//CR1606 code changes end

// ****** MEC rules are implemented per program ****** //

//CHIP WMS MEC(0)
// This is not available in the FDD but has been implemented to satisfy WMS requirement [01/06/2014]
rule "CHIP_MEC_0_1"
salience 84000
activation-group "CHIP_MEC_0_AT"
agenda-group "Chip_MEC_0_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isWMSEnrolled());
	then
		//<ACTIONS>
		logger.debug("Rule : CHIP_MEC_0_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "CHIP_MEC_0_1");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RAWMS);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : CHIP_MEC_0_1 : End");
end

rule "CHIP_MEC_0_2"
salience 83990
activation-group "CHIP_MEC_0_AT"
agenda-group "Chip_MEC_0_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isWMSEnrolled());
	then
		//<ACTIONS>
		logger.debug("Rule : CHIP_MEC_0_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "CHIP_MEC_0_2");
		drools.setFocus("Chip_MEC_1b_AG");
		logger.debug("Rule : CHIP_MEC_0_2 : End");
end

//Chip Public MEC(1)
//Implementation not required

//---------------------------------------------------
//CHIP Public MEC(1b)
//It has been Implemented to satisfy eMedNY FC requirement CR #1186


rule "CHIP_MEC_1b_1"
salience 83900
activation-group "CHIP_MEC_1b_AT"
agenda-group "Chip_MEC_1b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!iseMednyEnrolled());
	then
		//<ACTIONS>
		logger.debug("Rule : CHIP_MEC_1b_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "CHIP_MEC_1b_1");
		drools.setFocus("Chip_MEC_2_AG");
		logger.debug("Rule : CHIP_MEC_1b_1 : End");
end


rule "CHIP_MEC_1b_2"
salience 83890
activation-group "CHIP_MEC_1b_AT"
agenda-group "Chip_MEC_1b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((iseMednyEnrolled()),
														(HXConstants.CHIP.equals(currentCovaragebydate)),
														!(subscriberBeingFC));
		
	then
		//<ACTIONS>
		logger.debug("Rule : CHIP_MEC_1b_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "CHIP_MEC_1b_2");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RAEMEDNY);
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setCoverageEndIndicator(HXConstants.EOCM);
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setForceCloseDuetoInd(ProgramCode.CHIP);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : CHIP_MEC_1b_2 : End");
end


rule "CHIP_MEC_1b_3"
salience 83880
activation-group "CHIP_MEC_1b_AT"
agenda-group "Chip_MEC_1b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((iseMednyEnrolled()),
														(HXConstants.CHIP.equals(currentCovaragebydate)),
														(subscriberBeingFC),
														(subscriberRemovedMembersLeftduetoFC));
		
	then
		//<ACTIONS>
		logger.debug("Rule : CHIP_MEC_1b_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "CHIP_MEC_1b_3");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RAEMEDNY);
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setSubsciberMovedMembersleftInd(Boolean.TRUE);
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setCoverageEndIndicator(HXConstants.EOCM);
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setForceCloseDuetoInd(ProgramCode.CHIP);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : CHIP_MEC_1b_3 : End");
end


rule "CHIP_MEC_1b_4"
salience 83870
activation-group "CHIP_MEC_1b_AT"
agenda-group "Chip_MEC_1b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((iseMednyEnrolled()),
														(HXConstants.CHIP.equals(currentCovaragebydate)),
														(subscriberBeingFC),
														!(subscriberRemovedMembersLeftduetoFC));
		
	then
		//<ACTIONS>
		logger.debug("Rule : CHIP_MEC_1b_4 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "CHIP_MEC_1b_4");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RAEMEDNY);
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setCoverageEndIndicator(HXConstants.EOCM);
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setForceCloseDuetoInd(ProgramCode.CHIP);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : CHIP_MEC_1b_4 : End");
end


rule "CHIP_MEC_1b_5"
salience 83860
activation-group "CHIP_MEC_1b_AT"
agenda-group "Chip_MEC_1b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((iseMednyEnrolled()),
														!(HXConstants.CHIP.equals(currentCovaragebydate)));														
		
	then
		//<ACTIONS>
		logger.debug("Rule : CHIP_MEC_1b_5 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "CHIP_MEC_1b_5");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RAEMEDNY);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : CHIP_MEC_1b_5 : End");
end





//----------------------------------------------------



//Chip Public MEC(2)

rule "Chip_MEC_2_1"
salience 83000
activation-group "Chip_MEC_2_AT"
agenda-group "Chip_MEC_2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isFinancialAssistanceRequired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_2_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_2_1");
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_2_1 : End");
end

rule "Chip_MEC_2_2"
salience 82990
activation-group "Chip_MEC_2_AT"
agenda-group "Chip_MEC_2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isFinancialAssistanceRequired),
														!(isSeekingCoverage));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_2_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_2_2");
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_2_2 : End");
end

rule "Chip_MEC_2_3"
salience 82987
activation-group "Chip_MEC_2_AT"
agenda-group "Chip_MEC_2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isFinancialAssistanceRequired),
														(isSeekingCoverage),
														!(isMemberOnAssistanceByFed), 
														!(isMemberOnAssistanceByState),
														isDataErrorExists()
														);
														
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_2_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_2_3");
		$eDeterminationfacts.updateProgram(ProgramCode.MEDICAID, ProgramReasonCode.TPL_RRE_DATA_ERROR);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_2_3 : End");
end

rule "Chip_MEC_2_3A"
salience 82985
activation-group "Chip_MEC_2_AT"
agenda-group "Chip_MEC_2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isFinancialAssistanceRequired),
														(isSeekingCoverage),
														!(isMemberOnAssistanceByFed), 
														!(isMemberOnAssistanceByState),
														!(getIsRRECodeExists() || getHasCoverageFromTplService()),
														!(isDataErrorExists()),
														!(getIsEnrolledInMedicaidESIMEC())
														);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_2_3A : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_2_3A");
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_2_3A : End");
end

rule "Chip_MEC_2_3B"
salience 82983
activation-group "Chip_MEC_2_AT"
agenda-group "Chip_MEC_2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isFinancialAssistanceRequired),
														(isSeekingCoverage),
														!(isMemberOnAssistanceByFed), 
														!(isMemberOnAssistanceByState),
														!(getIsRRECodeExists() || getHasCoverageFromTplService()),
														!(isDataErrorExists()),
														(getIsEnrolledInMedicaidESIMEC())  
														);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_2_3B : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_2_3B");
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setTplrreDescrInd(Boolean.TRUE);
	 	$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.TPHI_DESCRPNC);	 	
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_2_3B : End");
end

rule "Chip_MEC_2_4"
salience 82980
activation-group "Chip_MEC_2_AT"
agenda-group "Chip_MEC_2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isFinancialAssistanceRequired),
														(isSeekingCoverage),
														!(isMemberOnAssistanceByFed), 
														(isMemberOnAssistanceByState));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_2_4 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_2_4");
		drools.setFocus("Chip_MEC_3_AG");
		logger.debug("Rule : Chip_MEC_2_4 : End");
end

rule "Chip_MEC_2_5"
salience 82975
activation-group "Chip_MEC_2_AT"
agenda-group "Chip_MEC_2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isFinancialAssistanceRequired),
														(isSeekingCoverage),
														(isMemberOnAssistanceByFed));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_2_5 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_2_5");
		drools.setFocus("Chip_MEC_3_AG");
		logger.debug("Rule : Chip_MEC_2_5 : End");
end

rule "Chip_MEC_2_6"
salience 82965
activation-group "Chip_MEC_2_AT"
agenda-group "Chip_MEC_2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isFinancialAssistanceRequired),
														(isSeekingCoverage),
														(getIsRRECodeExists() || getHasCoverageFromTplService()));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_2_6 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_2_6");
		drools.setFocus("Chip_MEC_3_AG");
		logger.debug("Rule : Chip_MEC_2_6 : End");
end

//Chip Public MEC(3)

rule "Chip_MEC_3_1A"
salience 82000
activation-group "Chip_MEC_3_AT"
agenda-group "Chip_MEC_3_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isChpNewBorn,
														!isChpNewBornReceivingMECMedicaidORChipORRefugee);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3_1A : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3_1A");
		drools.setFocus("Chip_MEC_3c_AG");
		logger.debug("Rule : Chip_MEC_3_1A : End");
end

rule "Chip_MEC_3_1B"
salience 81999
activation-group "Chip_MEC_3_AT"
agenda-group "Chip_MEC_3_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isChpNewBorn,
														isChpNewBornReceivingMECMedicaidORChipORRefugee,
														!isChpNewBornMCRCoverageEndingWithinAllowableLimits);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3_1B : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3_1B");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_MCR);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		drools.setFocus("Chip_MEC_3c_AG");
		logger.debug("Rule : Chip_MEC_3_1B : End");
end

rule "Chip_MEC_3_1C"
salience 81998
activation-group "Chip_MEC_3_AT"
agenda-group "Chip_MEC_3_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isChpNewBorn,
														isChpNewBornReceivingMECMedicaidORChipORRefugee,
														isChpNewBornMCRCoverageEndingWithinAllowableLimits);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3_1C : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3_1C");
		$eDeterminationfacts.setEligibilityStartAfterMCRAllowableEndingDateForChpNewBorn (ProgramCode.CHIP);
		drools.setFocus("Chip_MEC_3c_AG");
		logger.debug("Rule : Chip_MEC_3_1B : End");
end

rule "Chip_MEC_3_1"
salience 81995
activation-group "Chip_MEC_3_AT"
agenda-group "Chip_MEC_3_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isChpNewBorn,
														!(isReceivingMECMedicaidORChipORRefugee));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3_1");
		drools.setFocus("Chip_MEC_3c_AG");
		logger.debug("Rule : Chip_MEC_3_1 : End");
end

rule "Chip_MEC_3_2"
salience 81990
activation-group "Chip_MEC_3_AT"
agenda-group "Chip_MEC_3_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isChpNewBorn,
														isReceivingMECMedicaidORChipORRefugee,
														isProposedElgForRenewal);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3_2");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_MCR);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		drools.setFocus("Chip_MEC_3c_AG");
		logger.debug("Rule : Chip_MEC_3_2 : End");
end

rule "Chip_MEC_3_3"
salience 81980
activation-group "Chip_MEC_3_AT"
agenda-group "Chip_MEC_3_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isChpNewBorn,
														(isReceivingMECMedicaidORChipORRefugee),
														!(doesUserAgreesWithMECMedicaidORChipORRefugee),
														!(isMECMedicaidORChipORRefugeeStatusVerified));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3_3");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_MCR);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		drools.setFocus("Chip_MEC_3c_AG");
		logger.debug("Rule : Chip_MEC_3_3 : End");
end

rule "Chip_MEC_3_4"
salience 81970
activation-group "Chip_MEC_3_AT"
agenda-group "Chip_MEC_3_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isChpNewBorn,
														isReceivingMECMedicaidORChipORRefugee,
														!doesUserAgreesWithMECMedicaidORChipORRefugee,
														isMECMedicaidORChipORRefugeeStatusVerified);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3_4 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3_4");
		drools.setFocus("Chip_MEC_3c_AG");
		logger.debug("Rule : Chip_MEC_3_4 : End");
end

rule "Chip_MEC_3_5"
salience 81960
activation-group "Chip_MEC_3_AT"
agenda-group "Chip_MEC_3_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isChpNewBorn,
														(isReceivingMECMedicaidORChipORRefugee),
														(doesUserAgreesWithMECMedicaidORChipORRefugee));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3_5 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3_5");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_MCR);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_3_5 : End");
end

// CHIP Public MEC (3c) 


rule "Chip_MEC_3c_1"
salience 90000
activation-group "Chip_MEC_3c_AT"
agenda-group "Chip_MEC_3c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts( isDataErrorExists()) ;
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3c_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3c_1");
	   	drools.setFocus("Chip_MEC_5_AG");
	 	logger.debug("Rule : Chip_MEC_3c_1 : End");
end


rule "Chip_MEC_3c_2"
salience 90085
activation-group "Chip_MEC_3c_AT"
agenda-group "Chip_MEC_3c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts( !isDataErrorExists(),
														 HXConstants.COMPR_COV_N_IND.equals(getComprehensiveCoverageIndicator())) ;
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3c_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3c_2");
	   	drools.setFocus("Chip_MEC_5_AG");
	 	logger.debug("Rule : Chip_MEC_3c_2 : End");
end

rule "Chip_MEC_3c_3"
salience 90080
activation-group "Chip_MEC_3c_AT"
agenda-group "Chip_MEC_3c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts( !isDataErrorExists(),
														  //getComprehensiveCoverageIndicator(), Not required
														  HXConstants.COMP_COV_OVERRIDE_EXISTS_Y_IND.equals(getIsBackOfficeCCOverrideExists())) ;
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3c_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3c_3");
	   	drools.setFocus("Chip_MEC_5_AG");
	 	logger.debug("Rule : Chip_MEC_3c_3 : End");
end




rule "Chip_MEC_3c_4"
salience 90075
activation-group "Chip_MEC_3c_AT"
agenda-group "Chip_MEC_3c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts( !isDataErrorExists(),
														  HXConstants.COMPR_COV_Y_IND.equals(getComprehensiveCoverageIndicator()),
														  HXConstants.COMP_COV_OVERRIDE_EXISTS_N_IND.equals(getIsBackOfficeCCOverrideExists()),
														  !isMedicarePartIndReceived()) ;
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3c_4 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3c_4");
		//$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.REC_TPHI); 
	   	drools.setFocus("Chip_MEC_5_AG");
	 	logger.debug("Rule : Chip_MEC_3c_4 : End");
end



rule "Chip_MEC_3c_5"
salience 90070
activation-group "Chip_MEC_3c_AT"
agenda-group "Chip_MEC_3c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts( !isDataErrorExists(),
														  HXConstants.COMPR_COV_Y_IND.equals(getComprehensiveCoverageIndicator()),
														  HXConstants.COMP_COV_OVERRIDE_EXISTS_N_IND.equals(getIsBackOfficeCCOverrideExists()),
														  //isMedicarePartIndReceived(), not required as mutually exclusive
														  HXConstants.NO_MEDICARE_LEFT_OVERRIDE_Y_IND.equals(getNoMedicareLeftoverrideInd())) ;
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3c_4 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3c_4");
		//$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.REC_TPHI);
 	   	drools.setFocus("Chip_MEC_5_AG");
	 	logger.debug("Rule : Chip_MEC_3c_4 : End");
end



rule "Chip_MEC_3c_6"
salience 90065
activation-group "Chip_MEC_3c_AT"
agenda-group "Chip_MEC_3c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts( !isDataErrorExists(),
														  HXConstants.COMPR_COV_Y_IND.equals(getComprehensiveCoverageIndicator()),
														  HXConstants.COMP_COV_OVERRIDE_EXISTS_N_IND.equals(getIsBackOfficeCCOverrideExists()),
														  isMedicarePartIndReceived(),
														  HXConstants.NO_MEDICARE_LEFT_OVERRIDE_N_IND.equals(getNoMedicareLeftoverrideInd())) ;
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3c_6 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3c_6");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_MEDAB);
	 	drools.setFocus("Chip_MEC_5_AG");
	 	logger.debug("Rule : Chip_MEC_3c_6 : End");
end 




//Chip Public MEC(3V)

rule "Chip_MEC_3V_1"
salience 60000
activation-group "Chip_MEC_3V_AT"
agenda-group "Chip_MEC_3V_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isMECMedicaidORChipORRefugeeNoticeSent));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3V_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3V_1");
		//TO DO
		//Set Notice trigger
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_MCR, ClockNameEnum.MEC_MCR_45);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.VNPMR);
		drools.setFocus("Chip_MEC_5_AG");
		logger.debug("Rule : Chip_MEC_3V_1 : End");
end

rule "Chip_MEC_3V_2"
salience 59990
activation-group "Chip_MEC_3V_AT"
agenda-group "Chip_MEC_3V_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isMECMedicaidORChipORRefugeeNoticeSent),
														!(isMECMedicaidORChipORRefugee_45_DayClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3V_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3V_2");
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_MCR, ClockNameEnum.MEC_MCR_45);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.VNPMR);
		drools.setFocus("Chip_MEC_5_AG");
		logger.debug("Rule : Chip_MEC_3V_2 : End");
end

rule "Chip_MEC_3V_3"
salience 59985
activation-group "Chip_MEC_3V_AT"
agenda-group "Chip_MEC_3V_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isMECMedicaidORChipORRefugeeNoticeSent),
														(isMECMedicaidORChipORRefugee_45_DayClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_3V_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_3V_3");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.VNPMR_45);
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setChipNonCompInd(Boolean.TRUE);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_3V_3 : End");
end

//Chip Public MEC(4)
//Removed on 07182014 as per the latest FDD and discussed with Don.
/*
rule "Chip_MEC_4_1"
salience 81700
activation-group "Chip_MEC_4_AT"
agenda-group "Chip_MEC_4_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isReceivingMECVeterans));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_4_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_4_1");
		drools.setFocus("Chip_MEC_5_AG");
		logger.debug("Rule : Chip_MEC_4_1 : End");
end

rule "Chip_MEC_4_2"
salience 81690
activation-group "Chip_MEC_4_AT"
agenda-group "Chip_MEC_4_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECVeterans),
														!(doesUserAgreesWithMECVeterans),
														!(isMECVeteransStatusVerified));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_4_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_4_2");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.PENDING, ProgramReasonCode.RPM);
		drools.setFocus("Chip_MEC_4V_AG");
		logger.debug("Rule : Chip_MEC_4_2 : End");
end

rule "Chip_MEC_4_3"
salience 81685
activation-group "Chip_MEC_4_AT"
agenda-group "Chip_MEC_4_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECVeterans),
														!(doesUserAgreesWithMECVeterans),
														(isMECVeteransStatusVerified));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_4_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_4_3");
		drools.setFocus("Chip_MEC_5_AG");
		logger.debug("Rule : Chip_MEC_4_3 : End");
end

rule "Chip_MEC_4_4"
salience 81680
activation-group "Chip_MEC_4_AT"
agenda-group "Chip_MEC_4_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECVeterans),
														(doesUserAgreesWithMECVeterans));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_4_4 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_4_4");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_4_4 : End");
end

//Chip Public MEC(4V)

rule "Chip_MEC_4V_1"
salience 59000
activation-group "Chip_MEC_4V_AT"
agenda-group "Chip_MEC_4V_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isMECVeteransNoticeSent));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_4V_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_4V_1");
		//TO DO
		//Set Notice trigger
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_VET, ClockNameEnum.MEC_VET_45);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.VNPMR);
		drools.setFocus("Chip_MEC_5_AG");
		logger.debug("Rule : Chip_MEC_4V_1 : End");
end

rule "Chip_MEC_4V_2"
salience 58990
activation-group "Chip_MEC_4V_AT"
agenda-group "Chip_MEC_4V_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isMECVeteransNoticeSent),
														!(isMECVeterans_45_DayClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_4V_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_4V_2");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.VNPMR);
		drools.setFocus("Chip_MEC_5_AG");
		logger.debug("Rule : Chip_MEC_4V_2 : End");
end

rule "Chip_MEC_4V_3"
salience 58985
activation-group "Chip_MEC_4V_AT"
agenda-group "Chip_MEC_4V_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isMECVeteransNoticeSent),
														(isMECVeterans_45_DayClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_4V_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_4V_3");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.VNPMR_45);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_4V_3 : End");
end
*/

//Chip Public MEC(5)

rule "Chip_MEC_5_1"
salience 81500
activation-group "Chip_MEC_5_AT"
agenda-group "Chip_MEC_5_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isReceivingMECMedicaidAORB,
														isProposedElgForRenewal);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_5_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_5_1");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_MEDAB);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		drools.setFocus("Chip_MEC_6a_AG");
		logger.debug("Rule : Chip_MEC_5_1 : End");
end

rule "Chip_MEC_5_1A"
salience 81499
activation-group "Chip_MEC_5_AT"
agenda-group "Chip_MEC_5_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isChpNewBorn,
														!isChpNewBornReceivingMECMedicaidAORB,
														!isProposedElgForRenewal);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_5_1A : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_5_1A");
		drools.setFocus("Chip_MEC_6a_AG");
		logger.debug("Rule : Chip_MEC_5_1A : End");
end

rule "Chip_MEC_5_1B"
salience 81498
activation-group "Chip_MEC_5_AT"
agenda-group "Chip_MEC_5_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isChpNewBorn,
														isChpNewBornReceivingMECMedicaidAORB,
														!isChpNewBornMedicaidAORBCoverageEndingWithinAllowableLimits,
														!isProposedElgForRenewal);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_5_1B : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_5_1B");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_MEDAB);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		drools.setFocus("Chip_MEC_6a_AG");
		logger.debug("Rule : Chip_MEC_5_1B : End");
end

rule "Chip_MEC_5_1C"
salience 81497
activation-group "Chip_MEC_5_AT"
agenda-group "Chip_MEC_5_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isChpNewBorn,
														isChpNewBornReceivingMECMedicaidAORB,
														isChpNewBornMedicaidAORBCoverageEndingWithinAllowableLimits,
														!isProposedElgForRenewal);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_5_1C : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_5_1C");
		$eDeterminationfacts.setEligibilityStartDateForChpNewBorn(ProgramCode.CHIP, HXMECTypeEnum.MEDICARE);
		drools.setFocus("Chip_MEC_6a_AG");
		logger.debug("Rule : Chip_MEC_5_1C : End");
end

rule "Chip_MEC_5_2"
salience 81496
activation-group "Chip_MEC_5_AT"
agenda-group "Chip_MEC_5_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isChpNewBorn,
														!(isReceivingMECMedicaidAORB));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_5_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_5_2");
		drools.setFocus("Chip_MEC_6a_AG");
		logger.debug("Rule : Chip_MEC_5_2 : End");
end



rule "Chip_MEC_5_3"
salience 81480
activation-group "Chip_MEC_5_AT"
agenda-group "Chip_MEC_5_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isChpNewBorn,
														(isReceivingMECMedicaidAORB),
														!(doesUserAgreesWithMECMedicaidAORB),
														!(isMECMedicaidAORBStatusVerified));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_5_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_5_3");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_MEDAB);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		drools.setFocus("Chip_MEC_6a_AG");
		logger.debug("Rule : Chip_MEC_5_3 : End");
end

rule "Chip_MEC_5_4"
salience 81470
activation-group "Chip_MEC_5_AT"
agenda-group "Chip_MEC_5_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isChpNewBorn,
														isReceivingMECMedicaidAORB,
														!doesUserAgreesWithMECMedicaidAORB,
														isMECMedicaidAORBStatusVerified);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_5_4 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_5_4");
		drools.setFocus("Chip_MEC_6a_AG");
		logger.debug("Rule : Chip_MEC_5_4 : End");
end

rule "Chip_MEC_5_5"
salience 81460
activation-group "Chip_MEC_5_AT"
agenda-group "Chip_MEC_5_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isChpNewBorn,
														isReceivingMECMedicaidAORB,
														doesUserAgreesWithMECMedicaidAORB);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_5_5 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_5_5");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_MEDAB);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		drools.setFocus("Chip_MEC_6a_AG");
		logger.debug("Rule : Chip_MEC_5_5 : End");
end



//Chip Public MEC(6a)

rule "Chip_MEC_6a_0"
salience 81300
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isProposedElgForRenewal);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_0 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_0");
		drools.setFocus("Chip_MEC_6b_AG");
		logger.debug("Rule : Chip_MEC_6a_0 : End");
end

rule "Chip_MEC_6a_1A"
salience 81299
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isChpNewBorn,
														!isChpNewBornReceivingMECTricare);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_1A : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_1A");
		drools.setFocus("Chip_MEC_6b_AG");
		logger.debug("Rule : Chip_MEC_6a_1A : End");
end

rule "Chip_MEC_6a_1B"
salience 81298
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isChpNewBorn,
														isChpNewBornReceivingMECTricare,
														!isChpNewBornTricareCoverageEndingWithinAllowableLimits);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_1B : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_1B");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_TRI);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6a_1B : End");
end

rule "Chip_MEC_6a_1C"
salience 81297
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isChpNewBorn,
														isChpNewBornReceivingMECTricare,
														isChpNewBornTricareCoverageEndingWithinAllowableLimits);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_1C : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_1C");
		$eDeterminationfacts.setEligibilityStartDateForChpNewBorn(ProgramCode.CHIP, HXMECTypeEnum.TRICARE);
		drools.setFocus("Chip_MEC_6b_AG");
		logger.debug("Rule : Chip_MEC_6a_1C : End");
end

rule "Chip_MEC_6a_1"
salience 81295
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isReceivingMECTricare));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_1");
		drools.setFocus("Chip_MEC_6b_AG");
		logger.debug("Rule : Chip_MEC_6a_1 : End");
end

rule "Chip_MEC_6a_2"
salience 81290
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECTricare),
														!(doesUserAgreesWithMECTricare),
														(isMECTricareStatusVerified));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_2");
		drools.setFocus("Chip_MEC_6b_AG");
		logger.debug("Rule : Chip_MEC_6a_2 : End");
end

rule "Chip_MEC_6a_3"
salience 81285
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECTricare),
														!(doesUserAgreesWithMECTricare),
														!(isMECTricareStatusVerified),
														!(isTricareTerminationClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_3");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.RPM_TRI);
		drools.setFocus("Chip_MEC_6aV2_AG");
		logger.debug("Rule : Chip_MEC_6a_3 : End");
end

rule "Chip_MEC_6a_4"
salience 81280
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECTricare),
														!(doesUserAgreesWithMECTricare),
														!(isMECTricareStatusVerified),
														(isTricareTerminationClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_4 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_4");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_90_TRI);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6a_4 : End");
end

// Added new rule for Enh 42290
rule "Chip_MEC_6a_4a"
salience 81278
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECTricare),
														(doesUserAgreesWithMECTricare),
														!(isMECTricareStatusVerified),
														isTricareCoverageEndingWithinAllowableLimits);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_4a : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_4a");
		drools.setFocus("Chip_MEC_6b_AG");
		logger.debug("Rule : Chip_MEC_6a_4a : End");
end

// updated for Enh42290
rule "Chip_MEC_6a_5"
salience 81275
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECTricare),
														(doesUserAgreesWithMECTricare),
														!(isTricareCoverageEndingWithinAllowableLimits),
														!(isTricareTerminationClockExpired),
														UserMECResponseEnum.H_SRV_NOT_AAVAILABLE.equals(tricareUserMECResponse));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_5 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_5");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_TRI);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6a_5 : End");
end

// updated for Enh42290
rule "Chip_MEC_6a_6"
salience 81270
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECTricare),
														(doesUserAgreesWithMECTricare),
														!(isTricareCoverageEndingWithinAllowableLimits),
														!(isTricareTerminationClockExpired),
														UserMECResponseEnum.I_WANT_TO_KNOW_OTHER_AVAILABLE_INSURANCE.equals(tricareUserMECResponse));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_6 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_6");
		//MODIFIED BASED ON DISCUSSION WITH DOH ON 09/04/2013
		//drools.setFocus("Chip_MEC_6b_AG");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_TRI);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6a_6 : End");
end

// updated for Enh42290
rule "Chip_MEC_6a_7"
salience 81265
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECTricare),
														(doesUserAgreesWithMECTricare),
														!(isTricareCoverageEndingWithinAllowableLimits),
														!(isTricareTerminationClockExpired),
														UserMECResponseEnum.LOSING_COVERAGE_IN_3_MONTHS.equals(tricareUserMECResponse));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_7 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_7");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_TRI);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6a_7 : End");
end

// updated for Enh42290
rule "Chip_MEC_6a_8"
salience 81260
activation-group "Chip_MEC_6a_AT"
agenda-group "Chip_MEC_6a_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECTricare),
														(doesUserAgreesWithMECTricare),
														!(isTricareCoverageEndingWithinAllowableLimits),
														(isTricareTerminationClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6a_8 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6a_8");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_TRI);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6a_8 : End");
end

//Chip Public MEC(6aV1)

rule "Chip_MEC_6aV1_1"
salience 61000
activation-group "Chip_MEC_6aV1_AT"
agenda-group "Chip_MEC_6aV1_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isTricareTerminationClockScheduled));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6aV1_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6aV1_1");
		//TO DO
		//Re-check
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_TRI_TERMIN, ClockNameEnum.MEC_TRI_TERMIN_1);
		drools.setFocus("Chip_MEC_6b_AG");
		logger.debug("Rule : Chip_MEC_6aV1_1 : End");
end

rule "Chip_MEC_6aV1_2"
salience 60990
activation-group "Chip_MEC_6aV1_AT"
agenda-group "Chip_MEC_6aV1_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isTricareTerminationClockScheduled));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6aV1_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6aV1_2");
		drools.setFocus("Chip_MEC_6b_AG");
		logger.debug("Rule : Chip_MEC_6aV1_2 : End");
end

//Chip Public MEC(6aV2)

rule "Chip_MEC_6aV2_1"
salience 60000
activation-group "Chip_MEC_6aV2_AT"
agenda-group "Chip_MEC_6aV2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isMECTricareNoticeSent));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6aV2_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6aV2_1");
		//TO DO
		//Set Notice trigger
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_TRI, ClockNameEnum.MEC_TRI_45);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.VNPMR);
		drools.setFocus("Chip_MEC_6b_AG");
		logger.debug("Rule : Chip_MEC_6aV2_1 : End");
end

rule "Chip_MEC_6aV2_2"
salience 59990
activation-group "Chip_MEC_6aV2_AT"
agenda-group "Chip_MEC_6aV2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isMECTricareNoticeSent),
														!(isMECTricare_45_DayClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6aV2_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6aV2_2");
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_TRI, ClockNameEnum.MEC_TRI_45);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.VNPMR);
		drools.setFocus("Chip_MEC_6b_AG");
		logger.debug("Rule : Chip_MEC_6aV2_2 : End");
end

rule "Chip_MEC_6aV2_3"
salience 59985
activation-group "Chip_MEC_6aV2_AT"
agenda-group "Chip_MEC_6aV2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isMECTricareNoticeSent),
														(isMECTricare_45_DayClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6aV2_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6aV2_3");
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setChipNonCompInd(Boolean.TRUE);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.VNPMR_45);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6aV2_3 : End");
end

//Chip Public MEC(6b)
rule "Chip_MEC_6b_0"
salience 81000
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isProposedElgForRenewal);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_0 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_0");
		drools.setFocus("Chip_MEC_6c_AG");
		logger.debug("Rule : Chip_MEC_6b_0 : End");
end

rule "Chip_MEC_6b_1A"
salience 80999
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isProposedElgForRenewal,
														isChpNewBorn,
														!isChpNewBornReceivingMECPeaceCorps);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_1A : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_1A");
		drools.setFocus("Chip_MEC_6c_AG");
		logger.debug("Rule : Chip_MEC_6b_1A : End");
end

rule "Chip_MEC_6b_1B"
salience 80998
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isProposedElgForRenewal,
														isChpNewBorn,
														isChpNewBornReceivingMECPeaceCorps,
														!isChpNewBornPeaceCorpsCoverageEndingWithinAllowableLimits);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_1B : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_1B");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_PEACE);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6b_1B : End");
end

rule "Chip_MEC_6b_1C"
salience 80997
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isProposedElgForRenewal,
														isChpNewBorn,
														isChpNewBornReceivingMECPeaceCorps,
														isChpNewBornPeaceCorpsCoverageEndingWithinAllowableLimits);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_1C : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_1C");
		$eDeterminationfacts.setEligibilityStartDateForChpNewBorn(ProgramCode.CHIP, HXMECTypeEnum.PEACE_CORPS);
		drools.setFocus("Chip_MEC_6c_AG");
		logger.debug("Rule : Chip_MEC_6b_1C : End");
end

rule "Chip_MEC_6b_1"
salience 80995
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isReceivingMECPeaceCorps));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_1");
		drools.setFocus("Chip_MEC_6c_AG");
		logger.debug("Rule : Chip_MEC_6b_1 : End");
end

rule "Chip_MEC_6b_2"
salience 80990
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECPeaceCorps),
														!(doesUserAgreesWithMECPeaceCorps),
														(isMECPeaceCorpsStatusVerified));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_2");
		drools.setFocus("Chip_MEC_6c_AG");
		logger.debug("Rule : Chip_MEC_6b_2 : End");
end

rule "Chip_MEC_6b_3"
salience 80985
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECPeaceCorps),
														!(doesUserAgreesWithMECPeaceCorps),
														!(isMECPeaceCorpsStatusVerified),
														!(isPeaceCorpsTerminationClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_3");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP,  ProgramReasonCode.RPM_PEACE);
		drools.setFocus("Chip_MEC_6bV2_AG");
		logger.debug("Rule : Chip_MEC_6b_3 : End");
end

rule "Chip_MEC_6b_4"
salience 80980
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECPeaceCorps),
														!(doesUserAgreesWithMECPeaceCorps),
														!(isMECPeaceCorpsStatusVerified),
														(isPeaceCorpsTerminationClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_4 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_4");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_90_PEACE);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6b_4 : End");
end

// Added rule for Enh42290
rule "Chip_MEC_6b_4a"
salience 80977
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECPeaceCorps),
														doesUserAgreesWithMECPeaceCorps,
														isPeaceCorpsCoverageEndingWithinAllowableLimits);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_4a : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_4a");
		drools.setFocus("Chip_MEC_6c_AG");
		logger.debug("Rule : Chip_MEC_6b_4a : End");
end

// Modified for Enh42290
rule "Chip_MEC_6b_5"
salience 80975
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECPeaceCorps),
														(doesUserAgreesWithMECPeaceCorps),
														!(isPeaceCorpsCoverageEndingWithinAllowableLimits),
														!(isPeaceCorpsTerminationClockExpired),
														UserMECResponseEnum.I_WANT_TO_KNOW_OTHER_AVAILABLE_INSURANCE.equals(PeaceCorpsUserMECResponse));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_5 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_5");
		//drools.setFocus("Chip_MEC_6c_AG");
		//MODIFIED BASED ON DISCUSSION WITH DOH ON 09/04/2013
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_PEACE);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6b_5 : End");
end

// Modified for Enh42290
rule "Chip_MEC_6b_6"
salience 80970
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECPeaceCorps),
														(doesUserAgreesWithMECPeaceCorps),
														!(isPeaceCorpsCoverageEndingWithinAllowableLimits),
														!(isPeaceCorpsTerminationClockExpired),
														UserMECResponseEnum.LOSING_COVERAGE_IN_3_MONTHS.equals(PeaceCorpsUserMECResponse));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_6 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_6");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_PEACE);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6b_6 : End");
end

// Modified for Enh42290
rule "Chip_MEC_6b_7"
salience 80970
activation-group "Chip_MEC_6b_AT"
agenda-group "Chip_MEC_6b_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECPeaceCorps),
														(doesUserAgreesWithMECPeaceCorps),
														!(isPeaceCorpsCoverageEndingWithinAllowableLimits),
														(isPeaceCorpsTerminationClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6b_7 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6b_7");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_PEACE);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6b_7 : End");
end

//Chip Public MEC(6bV1)

rule "Chip_MEC_6bV1_1"
salience 61000
activation-group "Chip_MEC_6bV1_AT"
agenda-group "Chip_MEC_6bV1_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isPeaceCorpsTerminationClockScheduled));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6bV1_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6bV1_1");
		//TO DO
		//Re-check
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_PEACE_TERMIN, ClockNameEnum.MEC_PEACE_TERMIN_1);
		drools.setFocus("Chip_MEC_6c_AG");
		logger.debug("Rule : Chip_MEC_6bV1_1 : End");
end

rule "Chip_MEC_6bV1_2"
salience 60990
activation-group "Chip_MEC_6bV1_AT"
agenda-group "Chip_MEC_6bV1_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isPeaceCorpsTerminationClockScheduled));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6bV1_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6bV1_2");
		drools.setFocus("Chip_MEC_6c_AG");
		logger.debug("Rule : Chip_MEC_6bV1_2 : End");
end

//Chip Public MEC(6bV2)

rule "Chip_MEC_6bV2_1"
salience 60000
activation-group "Chip_MEC_6bV2_AT"
agenda-group "Chip_MEC_6bV2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isMECPeaceCorpsNoticeSent));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6bV2_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6bV2_1");
		//TO DO
		//Set Notice trigger
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_PEACE, ClockNameEnum.MEC_PEACE_45);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.VNPMR);
		drools.setFocus("Chip_MEC_6c_AG");
		logger.debug("Rule : Chip_MEC_6bV2_1 : End");
end

rule "Chip_MEC_6bV2_2"
salience 59990
activation-group "Chip_MEC_6bV2_AT"
agenda-group "Chip_MEC_6bV2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isMECPeaceCorpsNoticeSent),
														!(isMECPeaceCorps_45_DayClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6bV2_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6bV2_2");
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_PEACE, ClockNameEnum.MEC_PEACE_45);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.VNPMR);
		drools.setFocus("Chip_MEC_6c_AG");
		logger.debug("Rule : Chip_MEC_6bV2_2 : End");
end

rule "Chip_MEC_6bV2_3"
salience 59985
activation-group "Chip_MEC_6bV2_AT"
agenda-group "Chip_MEC_6bV2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isMECPeaceCorpsNoticeSent),
														(isMECPeaceCorps_45_DayClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6bV2_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6bV2_3");
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setChipNonCompInd(Boolean.TRUE);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.VNPMR_45);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6bV2_3 : End");
end



//Chip Public MEC(6c)

rule "Chip_MEC_6c_0"
salience 81000
activation-group "Chip_MEC_6c_AT"
agenda-group "Chip_MEC_6c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(isProposedElgForRenewal);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6c_0 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6c_0");
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6c_0 : End");
end

rule "Chip_MEC_6c_1A"
salience 80995
activation-group "Chip_MEC_6c_AT"
agenda-group "Chip_MEC_6c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isProposedElgForRenewal,
														isChpNewBorn,
														!isChpNewBornReceivingMECAmeriCorps);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6c_1A : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6c_1A");
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6c_1A : End");
end

rule "Chip_MEC_6c_1B"
salience 80990
activation-group "Chip_MEC_6c_AT"
agenda-group "Chip_MEC_6c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isProposedElgForRenewal,
														isChpNewBorn,
														isChpNewBornReceivingMECAmeriCorps,
														!isChpNewBornAmeriCorpsCoverageEndingWithinAllowableLimits);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6c_1B : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6c_1B");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_AMERI);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6c_1B : End");
end

rule "Chip_MEC_6c_1C"
salience 80985
activation-group "Chip_MEC_6c_AT"
agenda-group "Chip_MEC_6c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!isProposedElgForRenewal,
														isChpNewBorn,
														isChpNewBornReceivingMECAmeriCorps,
														isChpNewBornAmeriCorpsCoverageEndingWithinAllowableLimits);
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6c_1C : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6c_1C");
		$eDeterminationfacts.setEligibilityStartDateForChpNewBorn(ProgramCode.CHIP, HXMECTypeEnum.AMERI_CORPS);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6c_1C : End");
end

rule "Chip_MEC_6c_1"
salience 80800
activation-group "Chip_MEC_6c_AT"
agenda-group "Chip_MEC_6c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isReceivingMECAmeriCorps));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6c_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6c_1");
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6c_1 : End");
end

rule "Chip_MEC_6c_2"
salience 80790
activation-group "Chip_MEC_6c_AT"
agenda-group "Chip_MEC_6c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECAmeriCorps),
														!(doesUserAgreesWithMECAmeriCorps),
														(isMECAmeriCorpsStatusVerified));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6c_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6c_2");
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6c_2 : End");
end

rule "Chip_MEC_6c_3"
salience 80785
activation-group "Chip_MEC_6c_AT"
agenda-group "Chip_MEC_6c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECAmeriCorps),
														!(doesUserAgreesWithMECAmeriCorps),
														!(isMECAmeriCorpsStatusVerified),
														!(isAmeriCorpsTerminationClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6c_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6c_3");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.RPM_AMERI);
		drools.setFocus("Chip_MEC_6cV2_AG");
		logger.debug("Rule : Chip_MEC_6c_3 : End");
end

rule "Chip_MEC_6c_4"
salience 80780
activation-group "Chip_MEC_6c_AT"
agenda-group "Chip_MEC_6c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECAmeriCorps),
														!(doesUserAgreesWithMECAmeriCorps),
														!(isMECAmeriCorpsStatusVerified),
														(isAmeriCorpsTerminationClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6c_4 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6c_4");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_90_AMERI);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6c_4 : End");
end

rule "Chip_MEC_6c_5"
salience 80775
activation-group "Chip_MEC_6c_AT"
agenda-group "Chip_MEC_6c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECAmeriCorps),
														(doesUserAgreesWithMECAmeriCorps),
														!(isAmeriCorpsTerminationClockExpired),
														UserMECResponseEnum.I_WANT_TO_KNOW_OTHER_AVAILABLE_INSURANCE.equals(ameriCorpsUserMECResponse));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6c_5 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6c_5");
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6c_5 : End");
end

rule "Chip_MEC_6c_6"
salience 80770
activation-group "Chip_MEC_6c_AT"
agenda-group "Chip_MEC_6c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECAmeriCorps),
														(doesUserAgreesWithMECAmeriCorps),
														!(isAmeriCorpsTerminationClockExpired),
														UserMECResponseEnum.LOSING_COVERAGE_IN_3_MONTHS.equals(ameriCorpsUserMECResponse));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6c_6 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6c_6");
		drools.setFocus("Chip_MEC_6cV1_AG");
		logger.debug("Rule : Chip_MEC_6c_6 : End");
end

rule "Chip_MEC_6c_7"
salience 80765
activation-group "Chip_MEC_6c_AT"
agenda-group "Chip_MEC_6c_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isReceivingMECAmeriCorps),
														(doesUserAgreesWithMECAmeriCorps),
														(isAmeriCorpsTerminationClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6c_7 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6c_7");
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.RPM_90_AMERI);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6c_7 : End");
end

//Chip Public MEC(6cV1)

rule "Chip_MEC_6cV1_1"
salience 61000
activation-group "Chip_MEC_6cV1_AT"
agenda-group "Chip_MEC_6cV1_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isAmeriCorpsTerminationClockScheduled));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6cV1_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6cV1_1");
		//TO DO
		//Re-check
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_AMERI_TERMIN, ClockNameEnum.MEC_AMERI_TERMIN_1);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6cV1_1 : End");
end

rule "Chip_MEC_6cV1_2"
salience 60990
activation-group "Chip_MEC_6cV1_AT"
agenda-group "Chip_MEC_6cV1_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isAmeriCorpsTerminationClockScheduled));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6cV1_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6cV1_2");
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6cV1_2 : End");
end

//Chip Public MEC(6cV2)

rule "Chip_MEC_6cV2_1"
salience 60000
activation-group "Chip_MEC_6cV2_AT"
agenda-group "Chip_MEC_6cV2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts(!(isMECAmeriCorpsNoticeSent));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6cV2_1 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6cV2_1");
		//TO DO
		//Set Notice trigger
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_AMERI, ClockNameEnum.MEC_AMERI_45);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.VNPMR);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6cV2_1 : End");
end

rule "Chip_MEC_6cV2_2"
salience 59990
activation-group "Chip_MEC_6cV2_AT"
agenda-group "Chip_MEC_6cV2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isMECAmeriCorpsNoticeSent),
														!(isMECAmeriCorps_45_DayClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6cV2_2 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6cV2_2");
		$eDeterminationfacts.setClocks(ProgramCode.CHIP, EligibilityVerificationTypeEnum.MEC_AMERI, ClockNameEnum.MEC_AMERI_45);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, ProgramReasonCode.VNPMR);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6cV2_2 : End");
end

rule "Chip_MEC_6cV2_3"
salience 59985
activation-group "Chip_MEC_6cV2_AT"
agenda-group "Chip_MEC_6cV2_AG"
	when
		//<CONDITION>
		$eDeterminationfacts : EEDeterminationRuleFacts((isMECAmeriCorpsNoticeSent),
														(isMECAmeriCorps_45_DayClockExpired));
	then
		//<ACTIONS>
		logger.debug("Rule : Chip_MEC_6cV2_3 : Begin");
		$eDeterminationfacts.updateRuleExec(ProgramCode.CHIP, "Chip_MEC_6cV2_3");
		$eDeterminationfacts.getElgRulesIndicatorForProgram(ProgramCode.CHIP).setChipNonCompInd(Boolean.TRUE);
		$eDeterminationfacts.updateProgram(ProgramCode.CHIP, program_status.INELIGIBLE, ProgramReasonCode.VNPMR_45);
		$eDeterminationfacts.setIsChipInEligibleDueTOMEC(true);
		$eDeterminationfacts.setRuleExecCompletionStep(ProgramCode.CHIP, HXConstants.RULE_EXEC_STEP_02);
		logger.debug("Rule : Chip_MEC_6cV2_3 : End");
end